<!--
  - QR Code generator demo (HTML+JavaScript)
  -
  - Copyright (c) Project Nayuki. (MIT License)
  - https://www.nayuki.io/page/qr-code-generator-library
  -
  - Permission is hereby granted, free of charge, to any person obtaining a copy of
  - this software and associated documentation files (the "Software"), to deal in
  - the Software without restriction, including without limitation the rights to
  - use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
  - the Software, and to permit persons to whom the Software is furnished to do so,
  - subject to the following conditions:
  - * The above copyright notice and this permission notice shall be included in
  -   all copies or substantial portions of the Software.
  - * The Software is provided "as is", without warranty of any kind, express or
  -   implied, including but not limited to the warranties of merchantability,
  -   fitness for a particular purpose and noninfringement. In no event shall the
  -   authors or copyright holders be liable for any claim, damages or other
  -   liability, whether in an action of contract, tort or otherwise, arising from,
  -   out of or in connection with the Software or the use or other dealings in the
  -   Software.
  -->
<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>QR Code | Buff Techs</title>
</head>

<body>
  <h1>Qr generator by link</h1>
  <form id="itemsub" method="get">
    <input id="item" type="text" name="" value="item">
    <button type="submit" name="button">Gennerate</button>
  </form>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script type="application/javascript" src="./js/QR/qrcodegen.js"></script>
<script type="application/javascript" src="./js/saveSvgAsPng/saveSvgAsPng.js"></script>
<script type="text/javascript">
  // Name abbreviated for the sake of these examples here
  $("form").submit(function(){
    var QRC = qrcodegen.QrCode;
    var link_abbrev = 'http://localhost/concept/?token=193a12c753f3d281138137ec55439bbffc64b09648decc6d60461799a067ae51&deviceID=';
    var item = $('input:first').val();
    console.log(item);
    // Simple operation
    var qr0 = QRC.encodeText(link_abbrev+item, QRC.Ecc.MEDIUM);
    var svg = qr0.toSvgString(8);
    $('form').remove();
    $('body').append(''+svg);
    $('svg').attr('id',item);
    saveSvgAsPng(document.getElementById(item), item+".png");
    console.log(svg);
  });
</script>
</html>
